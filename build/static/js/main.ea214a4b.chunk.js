(this["webpackJsonpcovid-19-tracker-am"]=this["webpackJsonpcovid-19-tracker-am"]||[]).push([[0],{101:function(e,t,a){},12:function(e,t,a){e.exports={container:"Cards_container__3bjn6",loading:"Cards_loading__3BC6P",card:"Cards_card__eGUfZ",infected:"Cards_infected__-adYp",recovered:"Cards_recovered__1aizD",deaths:"Cards_deaths__Qdjzq"}},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(37),c=a.n(o),i=(a(101),a(13)),s=a(14),u=a(16),d=a(15),l=a(19),f=a(39),h=a.n(f),p=a(40),m=a.n(p),v=a(233),b=a(238),y=a(234),g=a(235),C=a(12),E=a.n(C),D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e.confirmed,a=e.recovered,n=e.deaths,o=e.lastUpdate;return t?r.a.createElement("div",{className:E.a.container},r.a.createElement(v.a,{container:!0,spacing:3,justify:"center"},r.a.createElement(v.a,{item:!0,component:b.a,xs:12,md:3,className:h()(E.a.card,E.a.infected)},r.a.createElement(y.a,null,r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Infected"),r.a.createElement(g.a,{variant:"h5"},r.a.createElement(m.a,{start:0,end:t.value,duration:1,separator:","})),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},new Date(o).toDateString()),r.a.createElement(g.a,{variant:"body2"},"Number of Active Cases of COVID-19"))),r.a.createElement(v.a,{item:!0,component:b.a,xs:12,md:3,className:h()(E.a.card,E.a.recovered)},r.a.createElement(y.a,null,r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Recovered"),r.a.createElement(g.a,{variant:"h5"},r.a.createElement(m.a,{start:0,end:a.value,duration:1,separator:","})),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},new Date(o).toDateString()),r.a.createElement(g.a,{variant:"body2"},"Number of Recovered Cases of COVID-19"))),r.a.createElement(v.a,{item:!0,component:b.a,xs:12,md:3,className:h()(E.a.card,E.a.deaths)},r.a.createElement(y.a,null,r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},"Deaths"),r.a.createElement(g.a,{variant:"h5"},r.a.createElement(m.a,{start:0,end:n.value,duration:1,separator:","})),r.a.createElement(g.a,{color:"textSecondary",gutterBottom:!0},new Date(o).toDateString()),r.a.createElement(g.a,{variant:"body2"},"Number of Deaths caused by Covid-19"))))):r.a.createElement("div",{className:E.a.loading},"Loading...")}}]),a}(r.a.Component),_=a(54),j=a(41),O=a.n(j);var x=a(88),S=a.n(x),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchDailyData()}},{key:"render",value:function(){var e=this.props.dailyData,t=e&&e[0]?r.a.createElement(_.b,{data:{labels:e.map((function(e){return e.date})),datasets:[{data:e.map((function(e){return e.confirmed})),label:"Infected",borderColor:"blue",fill:!0},{data:e.map((function(e){return e.deaths})),label:"Deaths",borderColor:"red",backgroundColor:"rgba(255,0,0,0.5)",fill:!0}]}}):null,a=this.props.country,n=this.props.data,o=n&&n.confirmed?r.a.createElement(_.a,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 0, 0, 0.5)"],data:[n.confirmed.value,n.recovered.value,n.deaths.value]}]},options:{legend:{display:!1},title:{display:!0,text:"Current state is ".concat(a)}}}):null;return r.a.createElement("div",{className:S.a.container},a?o:t)}}]),a}(r.a.Component),w={fetchDailyData:function(){return function(e){O.a.get("https://covid19.mathdro.id/api/daily").then((function(t){e({type:"FETCH_DAILY_DATA",payload:t.data})})).catch((function(e){console.log("Error occurred: ",e)}))}}},N=Object(l.b)((function(e){return{dailyData:e.fetchedDailyData}}),w)(k),A=a(237),T=a(236),I=a(89),P=a.n(I),B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.data,a=t&&t[0],n=a?t.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})):[];return a?r.a.createElement(A.a,{className:P.a.formControl},r.a.createElement(T.a,{defaultValue:"",onChange:function(t){return e.props.handleCountryChange(t.target.value)}},r.a.createElement("option",{value:"global"},"Global"),n)):null}}]),a}(r.a.Component),U=a(90),F=a.n(U),H=a(55),L=a.n(H),R=a(91),M=a.n(R),V=a(56),J=a.n(V),Y=a(92);function Z(e){return z.apply(this,arguments)}function z(){return(z=Object(Y.a)(J.a.mark((function e(t){var a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.status)>=200&&a<=305)){e.next=5;break}return e.abrupt("return",t);case 5:if(401!==a){e.next=9;break}return e.abrupt("return",Promise.reject({httpStatus:a,error:"Session time out. Please login again to continue."}));case 9:return e.prev=9,e.next=12,t.json();case 12:n=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),n="Something went wrong. Please try again later.";case 18:Promise.reject({httpStatus:a,error:n});case 19:case"end":return e.stop()}}),e,null,[[9,15]])})))).apply(this,arguments)}var G=a(30),Q=a(93),W=a(20);var q=a(22);var $=Object(W.c)({fetchedData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA":var a=t.payload,n=a.confirmed,r=a.recovered,o=a.deaths,c=a.lastUpdate,i={confirmed:n,recovered:r,deaths:o,lastUpdate:c};return Object(G.a)({},e,{},i);default:return e}},fetchedDailyData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DAILY_DATA":var a=t.payload.map((function(e){return{confirmed:e.confirmed.total,deaths:e.deaths.total,date:e.reportDate}}));return[].concat(Object(q.a)(e),Object(q.a)(a));default:return e}},fetchedCountries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES":var a=t.payload.countries;return a=a.map((function(e){return e.name})),[].concat(Object(q.a)(e),Object(q.a)(a));default:return e}}}),K=Object(W.d)($,Object(W.a)(Q.a));function X(e,t){var a=function(e,t){var a=Object(G.a)({},t),n=function(e,t,a){return e?(a||(e["Content-Type"]="application/json"),e):{}}(a&&a.headers);return a.body&&"object"===typeof a.body&&(a.body=JSON.stringify(a.body)),{url:e,params:a=Object(G.a)({},n,{},a)}}(e,t);return M()(a.url,a.params).then(Z,(function(){return Promise.reject({error:{message:"Something went wrong. Please try again later."}})})).then((function(e){return new Promise((function(t){e.json().then((function(e){t(e)}),(function(){t({})}))}))}),(function(e){return Promise.reject(e)}))}var ee=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleCountryChange=function(t){"global"===t?(e.props.fetchData(),e.setState({country:""})):X("https://covid19.mathdro.id/api/countries/"+t).then((function(a){e.setState({fetchedData:a,country:t})}),(function(e){console.log(e)}))},e.state={fetchedData:{},country:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchData(),this.props.fetchCountries()}},{key:"componentDidUpdate",value:function(e){e.fetchedData!==this.props.fetchedData?this.setState({fetchedData:this.props.fetchedData}):e.fetchedCountries!==this.props.fetchedCountries&&this.setState({fetchedData:this.props.fetchedCountries})}},{key:"render",value:function(){return r.a.createElement("div",{className:L.a.container},r.a.createElement("img",{src:F.a,className:L.a.image,alt:"COVID-19"}),r.a.createElement(D,{data:this.state.fetchedData}),r.a.createElement(B,{handleCountryChange:this.handleCountryChange,data:this.props.countriesList}),r.a.createElement(N,{data:this.state.fetchedData,country:this.state.country}))}}]),a}(r.a.Component),te={fetchData:function(){return function(e){O.a.get("https://covid19.mathdro.id/api").then((function(t){e({type:"FETCH_DATA",payload:t.data})})).catch((function(e){console.log("Error occurred: ",e)}))}},fetchCountries:function(){return function(e){O.a.get("https://covid19.mathdro.id/api/countries").then((function(t){e({type:"FETCH_COUNTRIES",payload:t.data})})).catch((function(e){console.log("Error occurred: ",e)}))}}},ae=Object(l.b)((function(e){return{fetchedData:e.fetchedData,countriesList:e.fetchedCountries}}),te)(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:K},r.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){e.exports={body:"App_body__ZTvxg",container:"App_container__1MQN3",image:"App_image__3byI1"}},88:function(e,t,a){e.exports={container:"Charts_container__1mZfu"}},89:function(e,t,a){e.exports={formControl:"CountryPicker_formControl__2p8f9"}},90:function(e,t,a){e.exports=a.p+"static/media/image.d7265326.png"},96:function(e,t,a){e.exports=a(216)}},[[96,1,2]]]);
//# sourceMappingURL=main.ea214a4b.chunk.js.map